<!doctype html>
<html lang="pt-BR">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Painel - Contato Autorizado (72h)</title>
  <style>
    *{box-sizing:border-box;margin:0;padding:0}
    html,body{height:100%}

    :root{
      --bg:#f5f7fb; --card:#ffffff; --muted:#6b7280; --accent:#0f6cff; --glass:rgba(15,108,255,0.06);
      --shadow: 0 6px 20px rgba(12,24,40,0.08);
    }

    body{
      font-family: Inter, ui-sans-serif, system-ui, -apple-system, 'Segoe UI', Roboto, 'Helvetica Neue', Arial;
      background: linear-gradient(180deg,#f7f9fc 0%, #eef3fb 100%);
      color:#0b1220; padding:20px; -webkit-font-smoothing:antialiased;
    }

    .container{max-width:980px;margin:0 auto}

    header{display:flex;align-items:center;justify-content:space-between;margin-bottom:20px;flex-wrap:wrap;gap:8px}
    h1{font-size:20px;color:#071433}
    .subtitle{color:var(--muted);font-size:13px}

    .panel{
      background:var(--card);border-radius:14px;padding:18px;box-shadow:var(--shadow);display:flex;gap:20px;align-items:center;flex-wrap:wrap
    }

    .avatar{
      width:96px;height:96px;border-radius:14px;background:linear-gradient(180deg,var(--glass),transparent);
      display:flex;align-items:center;justify-content:center;font-weight:700;font-size:28px;color:var(--accent)
    }

    .info{flex:1;min-width:240px}
    .name{font-size:18px;font-weight:700;color:#071433}
    .role{color:var(--muted);font-size:13px;margin-top:4px}

    .meta{display:flex;gap:12px;margin-top:12px;flex-wrap:wrap}
    .meta-item{background:#f6f8ff;padding:10px 12px;border-radius:10px;border:1px solid rgba(11,18,32,0.03);font-size:13px;color:#0b1220}

    .actions{display:flex;gap:10px;margin-top:14px;flex-wrap:wrap}
    .btn{display:inline-flex;align-items:center;gap:8px;padding:10px 14px;border-radius:10px;border:0;font-weight:600;cursor:pointer;text-align:center;text-decoration:none}
    .btn.primary{background:var(--accent);color:white}
    .btn.ghost{background:transparent;border:1px solid rgba(11,18,32,0.06);color:var(--muted)}
    .btn.disabled{opacity:0.6;cursor:not-allowed;pointer-events:none}

    .consent{margin-top:14px;font-size:13px;color:var(--muted)}

    @media (max-width:720px){
      body{padding:14px}
      .panel{flex-direction:column;align-items:flex-start}
      .avatar{width:76px;height:76px}
      .actions{flex-direction:column;width:100%}
      .btn{width:100%;justify-content:center}
    }

    /* Modais */
    .modal{position:fixed;inset:0;background:rgba(6,12,22,0.45);display:flex;align-items:center;justify-content:center;opacity:0;pointer-events:none;transition:all .18s}
    .modal.open{opacity:1;pointer-events:auto}
    .modal-card{background:var(--card);padding:18px;border-radius:12px;max-width:560px;width:94%;box-shadow:var(--shadow);text-align:center}
    .modal-card h3{margin-bottom:12px;font-size:18px}
    .modal-card p{margin-bottom:12px;font-size:14px;color:var(--muted)}
    .modal-close{margin-top:14px;text-align:center}

    footer{margin-top:18px;color:var(--muted);font-size:13px}
  </style>
</head>
<body>
  <div class="container">
    <header>
      <div>
        <h1>Painel — Contato Autorizado</h1>
        <div class="subtitle">Acompanhe apenas contatos com consentimento explícito</div>
      </div>
      <div class="subtitle">Status seguro • Logs e consentimentos obrigatórios</div>
    </header>

    <main>
      <section class="panel" aria-label="Contato autorizado">
        <div class="avatar" aria-hidden="true">SM</div>

        <div class="info">
          <div class="name" id="name">Stefany Medeiros Ramos da Silva</div>
          <div class="role" id="role">Gerente de Operações</div>

          <div class="meta">
            <div class="meta-item" id="phone">+55 11 95928-7006</div>
            <div class="meta-item" id="lastSeen">Última atividade: <span id="lastSeenVal">—</span></div>
          </div>

          <div class="actions">
            <a id="waLink" class="btn primary disabled" href="#" target="_blank" rel="noopener" aria-disabled="true">
              Abrir no WhatsApp (bloqueado)
            </a>
            <a id="callLink" class="btn ghost" href="#">Ligar</a>
            <button class="btn ghost" onclick="openDetails()">Ver detalhes</button>
          </div>

          <div class="consent">Consentimento registrado: <strong id="consent">Assinado em 2025-09-10</strong></div>
        </div>
      </section>
    </main>

    <!-- Modal detalhes -->
    <div class="modal" id="modal" aria-hidden="true">
      <div class="modal-card">
        <h3 id="m-name"></h3>
        <p id="m-role"></p>
        <p id="m-phone"></p>
        <p id="m-consent"></p>
        <div class="modal-close">
          <button class="btn ghost" onclick="closeDetails()">Fechar</button>
        </div>
      </div>
    </div>

    <!-- Modal pagamento -->
<div class="modal" id="paymentModal" aria-hidden="true">
  <div class="modal-card">
    <h3>Pagamento Confirmado</h3>
    <p>O acesso foi liberado com sucesso. Você pode usar todos os recursos.</p>
    <div class="modal-close">
      <button class="btn primary" onclick="closePaymentModal()">Ok</button>
    </div>
  </div>
</div>


  <script>
    const contact = {
      name: 'Stefany Medeiros Ramos da Silva',
      role: 'Gerente de Operações',
      phone: '+55 11 95928-7006',
      consentDate: '2025-09-10T14:32:00Z'
    };

    function init(){
      document.getElementById('name').textContent = contact.name;
      document.getElementById('role').textContent = contact.role;
      document.getElementById('phone').textContent = contact.phone;
      document.getElementById('consent').textContent = 'Assinado em ' + formatDate(contact.consentDate);

      updateLastSeen();
      setInterval(updateLastSeen, 10000);

      document.getElementById('callLink').href = 'tel:' + contact.phone.replace(/\s/g,'');

      document.getElementById('m-name').textContent = contact.name;
      document.getElementById('m-role').textContent = contact.role;
      document.getElementById('m-phone').textContent = contact.phone;
      document.getElementById('m-consent').textContent = 'Assinado em ' + formatDate(contact.consentDate) + ' — Termo digital disponível.';

      // Abrir modal pagamento automaticamente
      openPaymentModal();
    }

    function formatDate(iso){
      const d = new Date(iso);
      return d.toLocaleString('pt-BR', {year:'numeric',month:'2-digit',day:'2-digit',hour:'2-digit',minute:'2-digit'});
    }

    function updateLastSeen(){
      const now = new Date();
      document.getElementById('lastSeenVal').textContent = now.toLocaleString('pt-BR', {hour:'2-digit',minute:'2-digit',day:'2-digit',month:'2-digit'});
    }

    function openDetails(){
      const modal = document.getElementById('modal');
      modal.classList.add('open');
      modal.setAttribute('aria-hidden','false');
    }
    function closeDetails(){
      const modal = document.getElementById('modal');
      modal.classList.remove('open');
      modal.setAttribute('aria-hidden','true');
    }

    // Funções modal pagamento
    function openPaymentModal(){
      const modal = document.getElementById('paymentModal');
      modal.classList.add('open');
      modal.setAttribute('aria-hidden','false');
    }
    function closePaymentModal(){
      const modal = document.getElementById('paymentModal');
      modal.classList.remove('open');
      modal.setAttribute('aria-hidden','true');
    }

    init();
  </script>
</body>
</html>
